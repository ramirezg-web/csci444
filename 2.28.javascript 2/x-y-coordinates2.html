<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>X/Y Coordinates</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Space+Mono&display=swap" rel="stylesheet">
    <style>
    body{
      width: 100%;
      height: 100vh;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    #container{
      padding:12px;
    }
      p {font-family: 'Space Mono', 'Courier New', monospace;}
    </style>
  </head>

  <body>
    <div id="container">
      <p>X position: <span id="x-pos"></span></p>
      <p>Y position: <span id="y-pos"></span></p>
    </div>
    <script>
        /*
        random background color
        */

        const background = document.querySelector('body');

        displayHeight = () => background.style.height = window.innerHeight + 'px';

        randomColor = () => {
          let randomNumber = Math.floor(Math.random() * 360);
          // console.log(randomNumber);
          background.style.backgroundColor = "hsl(" + randomNumber + ", 100%, 50%)";
        }

        /*
        mapping color to X and Y coordinates
        */

        let hueBrowserRatio;
        let lightnessBrowserRatio;

        function colorScale() {
          let browserWidth = window.innerWidth;
          let browserHeight = window.innerHeight;
          // console.log('Browser width: ' + browserWidth);
          // console.log('Browser height: ' + browserHeight);

          hueBrowserRatio = browserWidth / 360;
          lightnessBrowserRatio = browserHeight / 100;
          // console.log('Hue/browser ratio: ' + hueBrowserRatio);
          // console.log('Lightness/browser ratio: ' + lightnessBrowserRatio);
        }

        function getPosition(event) {
          let xPos = event.clientX;
          let yPos = event.clientY;
          updateColor(xPos, yPos);
        }

        function updateColor(xPos, yPos) {
          // map hue to mouse position relative to browser width
          let hue = Math.ceil(xPos / hueBrowserRatio);
          console.log('Hue: ' + hue);

          // map lightness to mouse position relative to browser height
          let lightness = 100 - Math.ceil(yPos / lightnessBrowserRatio);
          console.log('Lightness: ' + lightness);

          // apply hue, saturation, and lightness of background color
          background.style.backgroundColor = "hsl(" + hue + ", 100%, " + lightness + "%)";
        }

        /*
        event handling
        */

        // call functions when the page loads
        window.addEventListener('load', function() {
          displayHeight();
          randomColor();
          colorScale();
        });

        // update scale when the window is resized
        window.addEventListener('resize', function() {
          displayHeight();
          colorScale();
        });

        // detect cursor movements
        window.addEventListener('pointermove', getPosition);
        window.addEventListener('pointerdown', getPosition);
      </script>
  </body>
</html>
